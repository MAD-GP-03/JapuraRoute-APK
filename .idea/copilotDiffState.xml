<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/japuraroutef/MainActivity.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/japuraroutef/MainActivity.kt" />
              <option name="originalContent" value="package com.example.japuraroutef&#10;&#10;import android.Manifest&#10;import android.os.Bundle&#10;import androidx.activity.ComponentActivity&#10;import androidx.activity.compose.setContent&#10;import androidx.activity.result.contract.ActivityResultContracts&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.lazy.LazyColumn&#10;import androidx.compose.foundation.lazy.items&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.unit.dp&#10;import com.mapbox.geojson.Point&#10;import com.mapbox.geojson.LineString&#10;import com.mapbox.maps.CameraBoundsOptions&#10;import com.mapbox.maps.extension.compose.MapboxMap&#10;import com.mapbox.maps.extension.compose.animation.viewport.rememberMapViewportState&#10;import com.mapbox.maps.extension.compose.style.MapStyle&#10;import com.mapbox.maps.extension.compose.MapEffect&#10;import com.mapbox.maps.plugin.annotation.generated.PointAnnotationOptions&#10;import com.mapbox.maps.plugin.annotation.generated.PolylineAnnotationOptions&#10;import com.mapbox.maps.plugin.annotation.annotations&#10;import com.mapbox.maps.plugin.annotation.generated.createPointAnnotationManager&#10;import com.mapbox.maps.plugin.annotation.generated.createPolylineAnnotationManager&#10;import kotlinx.coroutines.launch&#10;import retrofit2.Retrofit&#10;import retrofit2.converter.gson.GsonConverterFactory&#10;import retrofit2.http.GET&#10;import retrofit2.http.Path&#10;import retrofit2.http.Query&#10;&#10;data class FacultyPlace(&#10;    val name: String,&#10;    val point: Point,&#10;    val description: String&#10;)&#10;&#10;data class DirectionsResponse(&#10;    val routes: List&lt;Route&gt;&#10;)&#10;&#10;data class Route(&#10;    val geometry: String,&#10;    val distance: Double,&#10;    val duration: Double&#10;)&#10;&#10;interface MapboxDirectionsService {&#10;    @GET(&quot;directions/v5/mapbox/walking/{coordinates}&quot;)&#10;    suspend fun getDirections(&#10;        @Path(&quot;coordinates&quot;) coordinates: String,&#10;        @Query(&quot;geometries&quot;) geometries: String = &quot;polyline6&quot;,&#10;        @Query(&quot;overview&quot;) overview: String = &quot;full&quot;,&#10;        @Query(&quot;access_token&quot;) accessToken: String&#10;    ): DirectionsResponse&#10;}&#10;&#10;class MainActivity : ComponentActivity() {&#10;    private var currentLocation by mutableStateOf&lt;Point?&gt;(null)&#10;    private lateinit var directionsService: MapboxDirectionsService&#10;&#10;    private val locationPermissionRequest = registerForActivityResult(&#10;        ActivityResultContracts.RequestMultiplePermissions()&#10;    ) { permissions -&gt;&#10;        when {&#10;            permissions.getOrDefault(Manifest.permission.ACCESS_FINE_LOCATION, false) -&gt; {&#10;                // Precise location access granted&#10;            }&#10;            permissions.getOrDefault(Manifest.permission.ACCESS_COARSE_LOCATION, false) -&gt; {&#10;                // Only approximate location access granted&#10;            }&#10;        }&#10;    }&#10;&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;&#10;        // Request location permissions&#10;        locationPermissionRequest.launch(arrayOf(&#10;            Manifest.permission.ACCESS_FINE_LOCATION,&#10;            Manifest.permission.ACCESS_COARSE_LOCATION&#10;        ))&#10;&#10;        // Initialize Retrofit for Mapbox Directions API&#10;        val retrofit = Retrofit.Builder()&#10;            .baseUrl(&quot;https://api.mapbox.com/&quot;)&#10;            .addConverterFactory(GsonConverterFactory.create())&#10;            .build()&#10;        directionsService = retrofit.create(MapboxDirectionsService::class.java)&#10;&#10;        setContent {&#10;            NavigationScreen()&#10;        }&#10;    }&#10;&#10;    @Composable&#10;    fun NavigationScreen() {&#10;        var selectedDestination by remember { mutableStateOf&lt;FacultyPlace?&gt;(null) }&#10;        var showPlacesList by remember { mutableStateOf(false) }&#10;        var currentRoute by remember { mutableStateOf&lt;Route?&gt;(null) }&#10;        val coroutineScope = rememberCoroutineScope()&#10;        val accessToken = getString(R.string.mapbox_access_token)&#10;&#10;        // Faculty places - update these coordinates with actual locations&#10;        val facultyPlaces = remember {&#10;            listOf(&#10;                FacultyPlace(&quot;Student Canteen&quot;, Point.fromLngLat( 80.04289457106671, 6.82193306312118), &quot;Faculty main gate&quot;),&#10;                FacultyPlace(&quot;Library&quot;, Point.fromLngLat(80.04018, 6.82436), &quot;Central library building&quot;),&#10;                FacultyPlace(&quot;Lecture Hall A&quot;, Point.fromLngLat(80.04073, 6.82404), &quot;Main lecture hall complex&quot;),&#10;                FacultyPlace(&quot;Computer Lab&quot;, Point.fromLngLat(80.04125, 6.82335), &quot;Computing facilities&quot;),&#10;                FacultyPlace(&quot;Cafeteria&quot;, Point.fromLngLat(80.04155, 6.82242), &quot;Student cafeteria&quot;),&#10;                FacultyPlace(&quot;Admin Office&quot;, Point.fromLngLat(80.04168, 6.82203), &quot;Administration building&quot;),&#10;                FacultyPlace(&quot;Sports Ground&quot;, Point.fromLngLat(80.04199, 6.82108), &quot;Sports facilities&quot;),&#10;                FacultyPlace(&quot;Parking Area&quot;, Point.fromLngLat(80.04360, 6.82177), &quot;Vehicle parking&quot;)&#10;            )&#10;        }&#10;&#10;        val cameraBoundsOptions = CameraBoundsOptions.Builder()&#10;            .minZoom(14.0)&#10;            .maxZoom(20.0)&#10;            .build()&#10;&#10;        Box(modifier = Modifier.fillMaxSize()) {&#10;            MapboxMap(&#10;                Modifier.fillMaxSize(),&#10;                mapViewportState = rememberMapViewportState {&#10;                    setCameraOptions {&#10;                        zoom(17.0)&#10;                        center(Point.fromLngLat(80.04168, 6.82314))&#10;                        pitch(60.0)&#10;                        bearing(0.0)&#10;                    }&#10;                },&#10;                style = {&#10;                    MapStyle(style = &quot;mapbox://styles/nuwankonara/cmifk82fz001y01qw6bsdhv86&quot;)&#10;                }&#10;            ) {&#10;                MapEffect(Unit) { mapView -&gt;&#10;                    mapView.mapboxMap.setBounds(cameraBoundsOptions)&#10;&#10;                    // Add markers for all places&#10;                    val annotationApi = mapView.annotations&#10;                    val pointAnnotationManager = annotationApi.createPointAnnotationManager()&#10;&#10;                    facultyPlaces.forEach { place -&gt;&#10;                        val pointAnnotationOptions = PointAnnotationOptions()&#10;                            .withPoint(place.point)&#10;                            .withIconImage(&quot;marker-icon-red&quot;)&#10;                        pointAnnotationManager.create(pointAnnotationOptions)&#10;                    }&#10;                }&#10;&#10;                // Update route on map when available&#10;                MapEffect(currentRoute) { mapView -&gt;&#10;                    currentRoute?.let { route -&gt;&#10;                        val annotationApi = mapView.annotations&#10;                        val polylineAnnotationManager = annotationApi.createPolylineAnnotationManager()&#10;&#10;                        try {&#10;                            val points = LineString.fromPolyline(route.geometry, 6).coordinates()&#10;&#10;                            val polylineAnnotationOptions = PolylineAnnotationOptions()&#10;                                .withPoints(points)&#10;                                .withLineColor(&quot;#0080FF&quot;)&#10;                                .withLineWidth(5.0)&#10;                            polylineAnnotationManager.create(polylineAnnotationOptions)&#10;                        } catch (e: Exception) {&#10;                            e.printStackTrace()&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;&#10;            // Bottom sheet with places&#10;            Column(&#10;                modifier = Modifier&#10;                    .align(Alignment.BottomCenter)&#10;                    .fillMaxWidth()&#10;            ) {&#10;                if (showPlacesList) {&#10;                    Surface(&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        color = Color.White,&#10;                        shadowElevation = 8.dp&#10;                    ) {&#10;                        LazyColumn(&#10;                            modifier = Modifier&#10;                                .fillMaxWidth()&#10;                                .heightIn(max = 300.dp)&#10;                        ) {&#10;                        items(facultyPlaces) { place -&gt;&#10;                            PlaceItem(&#10;                                place = place,&#10;                                onSelect = {&#10;                                    selectedDestination = place&#10;                                    showPlacesList = false&#10;&#10;                                    // Request route&#10;                                    coroutineScope.launch {&#10;                                        try {&#10;                                            val origin = currentLocation ?: Point.fromLngLat(80.03948, 6.82478)&#10;                                            val coords = &quot;${origin.longitude()},${origin.latitude()};${place.point.longitude()},${place.point.latitude()}&quot;&#10;                                            val response = directionsService.getDirections(coords, accessToken = accessToken)&#10;                                            if (response.routes.isNotEmpty()) {&#10;                                                currentRoute = response.routes[0]&#10;                                            }&#10;                                        } catch (e: Exception) {&#10;                                            e.printStackTrace()&#10;                                        }&#10;                                    }&#10;                                }&#10;                            )&#10;                        }&#10;                        }&#10;                    }&#10;                }&#10;&#10;                Card(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .padding(16.dp),&#10;                    elevation = CardDefaults.cardElevation(8.dp)&#10;                ) {&#10;                    Column(&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .padding(16.dp)&#10;                    ) {&#10;                        if (selectedDestination != null) {&#10;                            Text(&#10;                                text = &quot;Navigating to: ${selectedDestination!!.name}&quot;,&#10;                                style = MaterialTheme.typography.titleMedium&#10;                            )&#10;                            Text(&#10;                                text = selectedDestination!!.description,&#10;                                style = MaterialTheme.typography.bodyMedium,&#10;                                color = Color.Gray&#10;                            )&#10;                            Spacer(modifier = Modifier.height(8.dp))&#10;                            Button(&#10;                                onClick = {&#10;                                    selectedDestination = null&#10;                                    currentRoute = null&#10;                                },&#10;                                modifier = Modifier.fillMaxWidth()&#10;                            ) {&#10;                                Text(&quot;Clear Route&quot;)&#10;                            }&#10;                        } else {&#10;                            Button(&#10;                                onClick = { showPlacesList = !showPlacesList },&#10;                                modifier = Modifier.fillMaxWidth()&#10;                            ) {&#10;                                Text(if (showPlacesList) &quot;Hide Places&quot; else &quot;Select Destination&quot;)&#10;                            }&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;&#10;    @Composable&#10;    fun PlaceItem(place: FacultyPlace, onSelect: () -&gt; Unit) {&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .clickable(onClick = onSelect)&#10;                .padding(16.dp)&#10;        ) {&#10;            Text(&#10;                text = place.name,&#10;                style = MaterialTheme.typography.titleMedium&#10;            )&#10;            Text(&#10;                text = place.description,&#10;                style = MaterialTheme.typography.bodySmall,&#10;                color = Color.Gray&#10;            )&#10;            HorizontalDivider(modifier = Modifier.padding(top = 8.dp))&#10;        }&#10;    }&#10;&#10;}" />
              <option name="updatedContent" value="package com.example.japuraroutef&#10;&#10;import android.os.Bundle&#10;import androidx.activity.ComponentActivity&#10;import androidx.activity.compose.setContent&#10;import androidx.compose.runtime.*&#10;&#10;class MainActivity : ComponentActivity() {&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        &#10;        setContent {&#10;            AppNavigation()&#10;        }&#10;    }&#10;&#10;    @Composable&#10;    fun AppNavigation() {&#10;        var currentScreen by remember { mutableStateOf&lt;Screen&gt;(Screen.Home) }&#10;&#10;        when (currentScreen) {&#10;            Screen.Home -&gt; {&#10;                com.example.japuraroutef.ui.HomeScreen(&#10;                    onNavigateToMap = { currentScreen = Screen.Map }&#10;                )&#10;            }&#10;            Screen.Map -&gt; {&#10;                com.example.japuraroutef.ui.MapScreen(&#10;                    onNavigateBack = { currentScreen = Screen.Home }&#10;                )&#10;            }&#10;        }&#10;    }&#10;&#10;    sealed class Screen {&#10;        object Home : Screen()&#10;        object Map : Screen()&#10;    }&#10;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/japuraroutef/ui/HomeScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/japuraroutef/ui/HomeScreen.kt" />
              <option name="originalContent" value="package com.example.japuraroutef.ui&#10;&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.border&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.shape.CircleShape&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.*&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.blur&#10;import androidx.compose.ui.draw.clip&#10;import androidx.compose.ui.graphics.Brush&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.graphics.painter.Painter&#10;import androidx.compose.ui.graphics.vector.ImageVector&#10;import androidx.compose.ui.layout.ContentScale&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;&#10;import com.example.japuraroutef.R&#10;&#10;@Composable&#10;fun HomeScreen(onNavigateToMap: () -&gt; Unit) {&#10;    Box(&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;    ) {&#10;        // Background image with blur for liquid glass effect&#10;        val bgPainter: Painter = painterResource(id = R.drawable.gemini_generated_image_hxfk22hxfk22hxfk)&#10;        Image(&#10;            painter = bgPainter,&#10;            contentDescription = &quot;Home Background&quot;,&#10;            contentScale = ContentScale.Crop,&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .blur(radius = 50.dp)&#10;        )&#10;&#10;        // Gradient overlay for depth&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .background(&#10;                    Brush.verticalGradient(&#10;                        colors = listOf(&#10;                            Color(0x40000000),&#10;                            Color(0x80000000),&#10;                            Color(0xCC000000)&#10;                        )&#10;                    )&#10;                )&#10;        )&#10;&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;        ) {&#10;            // Scrollable content&#10;            Column(&#10;                modifier = Modifier&#10;                    .weight(1f)&#10;                    .verticalScroll(rememberScrollState())&#10;                    .padding(horizontal = 20.dp)&#10;                    .padding(top = 20.dp)&#10;            ) {&#10;                Spacer(modifier = Modifier.height(20.dp))&#10;&#10;            // Header with Logo and Title - Apple style&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(vertical = 16.dp),&#10;                horizontalAlignment = Alignment.CenterHorizontally&#10;            ) {&#10;                // Logo with glowing effect&#10;                Box(&#10;                    modifier = Modifier&#10;                        .size(70.dp)&#10;                        .clip(CircleShape)&#10;                        .background(&#10;                            Brush.radialGradient(&#10;                                colors = listOf(&#10;                                    Color(0xFFFFD700),&#10;                                    Color(0xFFD4AF37),&#10;                                    Color(0xFFC9A961)&#10;                                )&#10;                            )&#10;                        ),&#10;                    contentAlignment = Alignment.Center&#10;                ) {&#10;                    Icon(&#10;                        imageVector = Icons.Default.Star,&#10;                        contentDescription = &quot;Faculty Logo&quot;,&#10;                        tint = Color.White,&#10;                        modifier = Modifier.size(36.dp)&#10;                    )&#10;                }&#10;                Spacer(modifier = Modifier.height(12.dp))&#10;                Text(&#10;                    text = &quot;Faculty Super App&quot;,&#10;                    style = MaterialTheme.typography.headlineMedium,&#10;                    color = Color.White,&#10;                    fontWeight = FontWeight.Bold&#10;                )&#10;                Text(&#10;                    text = &quot;Your Campus Companion&quot;,&#10;                    style = MaterialTheme.typography.bodyMedium,&#10;                    color = Color.White.copy(alpha = 0.7f),&#10;                    fontWeight = FontWeight.Normal&#10;                )&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(24.dp))&#10;&#10;            // Glassmorphic Welcome Card with golden border&#10;            Card(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(bottom = 20.dp)&#10;                    .border(&#10;                        width = 1.5.dp,&#10;                        color = Color(0xFFD4AF37),&#10;                        shape = RoundedCornerShape(28.dp)&#10;                    ),&#10;                shape = RoundedCornerShape(28.dp),&#10;                colors = CardDefaults.cardColors(&#10;                    containerColor = Color(0x33000000)&#10;                ),&#10;                elevation = CardDefaults.cardElevation(0.dp)&#10;            ) {&#10;                Row(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .padding(20.dp),&#10;                    horizontalArrangement = Arrangement.SpaceBetween,&#10;                    verticalAlignment = Alignment.CenterVertically&#10;                ) {&#10;                    Column(modifier = Modifier.weight(1f)) {&#10;                        Text(&#10;                            text = &quot;Welcome back!&quot;,&#10;                            color = Color.White,&#10;                            fontSize = 18.sp,&#10;                            fontWeight = FontWeight.SemiBold&#10;                        )&#10;                        Spacer(modifier = Modifier.height(4.dp))&#10;                        Text(&#10;                            text = &quot;Check your updated Class Schedule.&quot;,&#10;                            color = Color.White.copy(alpha = 0.7f),&#10;                            fontSize = 14.sp&#10;                        )&#10;                    }&#10;                    Icon(&#10;                        imageVector = Icons.Default.KeyboardArrowDown,&#10;                        contentDescription = null,&#10;                        tint = Color.White.copy(alpha = 0.7f),&#10;                        modifier = Modifier.size(24.dp)&#10;                    )&#10;                }&#10;            }&#10;&#10;            // Main Feature Cards Grid - Exact layout from reference&#10;            Column(&#10;                verticalArrangement = Arrangement.spacedBy(16.dp)&#10;            ) {&#10;                // Row 1: Campus Map &amp; Auditorium Booking&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    horizontalArrangement = Arrangement.spacedBy(16.dp)&#10;                ) {&#10;                    FeatureCard(&#10;                        modifier = Modifier.weight(1f),&#10;                        title = &quot;Campus\nMap&quot;,&#10;                        buttonText = &quot;View&quot;,&#10;                        icon = Icons.Default.LocationOn,&#10;                        gradient = Brush.linearGradient(&#10;                            colors = listOf(&#10;                                Color(0xFF5C3317),&#10;                                Color(0xFFC9A961)&#10;                            )&#10;                        ),&#10;                        onClick = onNavigateToMap&#10;                    )&#10;                    FeatureCard(&#10;                        modifier = Modifier.weight(1f),&#10;                        title = &quot;Auditorium\nBooking&quot;,&#10;                        buttonText = &quot;Book&quot;,&#10;                        icon = Icons.Default.DateRange,&#10;                        gradient = Brush.linearGradient(&#10;                            colors = listOf(&#10;                                Color(0xFFE0E0E0),&#10;                                Color(0xFFC9B591)&#10;                            )&#10;                        ),&#10;                        textColor = Color.Black,&#10;                        onClick = { /* TODO */ }&#10;                    )&#10;                }&#10;&#10;                // Row 2: Events &amp; Places &amp; Services&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    horizontalArrangement = Arrangement.spacedBy(16.dp)&#10;                ) {&#10;                    FeatureCard(&#10;                        modifier = Modifier.weight(1f),&#10;                        title = &quot;Events&quot;,&#10;                        buttonText = &quot;View&quot;,&#10;                        icon = Icons.Default.Notifications,&#10;                        gradient = Brush.linearGradient(&#10;                            colors = listOf(&#10;                                Color(0xFFFFEB3B),&#10;                                Color(0xFFFFD54F)&#10;                            )&#10;                        ),&#10;                        textColor = Color.Black,&#10;                        onClick = { /* TODO */ }&#10;                    )&#10;                    FeatureCard(&#10;                        modifier = Modifier.weight(1f),&#10;                        title = &quot;Places &amp;\nServices&quot;,&#10;                        buttonText = &quot;View&quot;,&#10;                        icon = Icons.Default.Place,&#10;                        gradient = Brush.linearGradient(&#10;                            colors = listOf(&#10;                                Color(0xFF90CAF9),&#10;                                Color(0xFF64B5F6)&#10;                            )&#10;                        ),&#10;                        textColor = Color.Black,&#10;                        onClick = { /* TODO */ }&#10;                    )&#10;                }&#10;&#10;                // Row 3: GPA Calculator &amp; Class Schedule&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    horizontalArrangement = Arrangement.spacedBy(16.dp)&#10;                ) {&#10;                    FeatureCard(&#10;                        modifier = Modifier.weight(1f),&#10;                        title = &quot;GPA\nCalculator&quot;,&#10;                        buttonText = &quot;View&quot;,&#10;                        icon = Icons.Default.AccountBox,&#10;                        gradient = Brush.linearGradient(&#10;                            colors = listOf(&#10;                                Color(0xFF8D6E63),&#10;                                Color(0xFF6D4C41)&#10;                            )&#10;                        ),&#10;                        onClick = { /* TODO */ }&#10;                    )&#10;                    FeatureCard(&#10;                        modifier = Modifier.weight(1f),&#10;                        title = &quot;Class\nSchedule&quot;,&#10;                        buttonText = &quot;View&quot;,&#10;                        icon = Icons.Default.Info,&#10;                        gradient = Brush.linearGradient(&#10;                            colors = listOf(&#10;                                Color(0xFF424242),&#10;                                Color(0xFF212121)&#10;                            )&#10;                        ),&#10;                        onClick = { /* TODO */ }&#10;                    )&#10;                }&#10;&#10;                // Row 4: Notices, Transport Info &amp; Study Resources (3 small cards)&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    horizontalArrangement = Arrangement.spacedBy(12.dp)&#10;                ) {&#10;                    SmallFeatureCard(&#10;                        modifier = Modifier.weight(1f),&#10;                        title = &quot;Notices&quot;,&#10;                        buttonText = &quot;Access&quot;,&#10;                        icon = Icons.Default.Warning,&#10;                        backgroundColor = Color(0xFFFFB74D),&#10;                        textColor = Color.Black,&#10;                        onClick = { /* TODO */ }&#10;                    )&#10;                    SmallFeatureCard(&#10;                        modifier = Modifier.weight(1f),&#10;                        title = &quot;Transport\nInfo&quot;,&#10;                        buttonText = &quot;Access&quot;,&#10;                        icon = Icons.Default.Call,&#10;                        backgroundColor = Color(0xFF42A5F5),&#10;                        onClick = { /* TODO */ }&#10;                    )&#10;                    SmallFeatureCard(&#10;                        modifier = Modifier.weight(1f),&#10;                        title = &quot;Study\nResources&quot;,&#10;                        buttonText = &quot;Access&quot;,&#10;                        icon = Icons.Default.Email,&#10;                        backgroundColor = Color(0xFFB39DDB),&#10;                        onClick = { /* TODO */ }&#10;                    )&#10;                }&#10;            }&#10;&#10;            // Bottom padding for the navigation bar space&#10;            Spacer(modifier = Modifier.height(100.dp))&#10;        }&#10;        }&#10;&#10;        // Fixed Bottom Navigation Bar&#10;        Box(&#10;            modifier = Modifier&#10;                .align(Alignment.BottomCenter)&#10;                .padding(bottom = 16.dp)&#10;        ) {&#10;            BottomNavigationBar()&#10;        }&#10;    }&#10;}&#10;&#10;// Feature Card Component with border and liquid effect&#10;@Composable&#10;fun FeatureCard(&#10;    modifier: Modifier = Modifier,&#10;    title: String,&#10;    buttonText: String,&#10;    icon: ImageVector,&#10;    gradient: Brush,&#10;    textColor: Color = Color.White,&#10;    onClick: () -&gt; Unit&#10;) {&#10;    Card(&#10;        onClick = onClick,&#10;        modifier = modifier&#10;            .height(180.dp)&#10;            .border(&#10;                width = 1.dp,&#10;                color = Color.White.copy(alpha = 0.2f),&#10;                shape = RoundedCornerShape(24.dp)&#10;            ),&#10;        shape = RoundedCornerShape(24.dp),&#10;        colors = CardDefaults.cardColors(containerColor = Color.Transparent),&#10;        elevation = CardDefaults.cardElevation(8.dp)&#10;    ) {&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .background(gradient)&#10;        ) {&#10;            // Liquid overlay effect&#10;            Box(&#10;                modifier = Modifier&#10;                    .fillMaxSize()&#10;                    .background(&#10;                        Brush.radialGradient(&#10;                            colors = listOf(&#10;                                Color.White.copy(alpha = 0.25f),&#10;                                Color.Transparent&#10;                            ),&#10;                            center = androidx.compose.ui.geometry.Offset(120f, 80f),&#10;                            radius = 200f&#10;                        )&#10;                    )&#10;            )&#10;&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxSize()&#10;                    .padding(20.dp),&#10;                verticalArrangement = Arrangement.SpaceBetween&#10;            ) {&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    horizontalArrangement = Arrangement.SpaceBetween,&#10;                    verticalAlignment = Alignment.Top&#10;                ) {&#10;                    Text(&#10;                        text = title,&#10;                        fontSize = 20.sp,&#10;                        fontWeight = FontWeight.Bold,&#10;                        color = textColor,&#10;                        lineHeight = 24.sp&#10;                    )&#10;                    Icon(&#10;                        imageVector = icon,&#10;                        contentDescription = title,&#10;                        tint = textColor,&#10;                        modifier = Modifier.size(32.dp)&#10;                    )&#10;                }&#10;&#10;                Button(&#10;                    onClick = onClick,&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .border(&#10;                            width = 1.dp,&#10;                            color = textColor.copy(alpha = 0.3f),&#10;                            shape = RoundedCornerShape(20.dp)&#10;                        ),&#10;                    colors = ButtonDefaults.buttonColors(&#10;                        containerColor = Color.White.copy(alpha = 0.25f),&#10;                        contentColor = textColor&#10;                    ),&#10;                    shape = RoundedCornerShape(20.dp)&#10;                ) {&#10;                    Text(&#10;                        text = buttonText,&#10;                        fontWeight = FontWeight.Medium,&#10;                        fontSize = 15.sp&#10;                    )&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;// Small Feature Card for 3-column layout&#10;@Composable&#10;fun SmallFeatureCard(&#10;    modifier: Modifier = Modifier,&#10;    title: String,&#10;    buttonText: String,&#10;    icon: ImageVector,&#10;    backgroundColor: Color,&#10;    textColor: Color = Color.White,&#10;    onClick: () -&gt; Unit&#10;) {&#10;    Card(&#10;        onClick = onClick,&#10;        modifier = modifier&#10;            .height(180.dp)&#10;            .border(&#10;                width = 1.dp,&#10;                color = Color.White.copy(alpha = 0.2f),&#10;                shape = RoundedCornerShape(20.dp)&#10;            ),&#10;        shape = RoundedCornerShape(20.dp),&#10;        colors = CardDefaults.cardColors(containerColor = backgroundColor),&#10;        elevation = CardDefaults.cardElevation(6.dp)&#10;    ) {&#10;        Box(&#10;            modifier = Modifier.fillMaxSize()&#10;        ) {&#10;            // Liquid overlay&#10;            Box(&#10;                modifier = Modifier&#10;                    .fillMaxSize()&#10;                    .background(&#10;                        Brush.radialGradient(&#10;                            colors = listOf(&#10;                                Color.White.copy(alpha = 0.3f),&#10;                                Color.Transparent&#10;                            ),&#10;                            center = androidx.compose.ui.geometry.Offset(80f, 60f),&#10;                            radius = 120f&#10;                        )&#10;                    )&#10;            )&#10;&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxSize()&#10;                    .padding(16.dp),&#10;                verticalArrangement = Arrangement.SpaceBetween&#10;            ) {&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    horizontalArrangement = Arrangement.SpaceBetween,&#10;                    verticalAlignment = Alignment.Top&#10;                ) {&#10;                    Text(&#10;                        text = title,&#10;                        fontSize = 16.sp,&#10;                        fontWeight = FontWeight.Bold,&#10;                        color = textColor,&#10;                        lineHeight = 20.sp&#10;                    )&#10;                    Icon(&#10;                        imageVector = icon,&#10;                        contentDescription = title,&#10;                        tint = textColor,&#10;                        modifier = Modifier.size(28.dp)&#10;                    )&#10;                }&#10;&#10;                Button(&#10;                    onClick = onClick,&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .border(&#10;                            width = 1.dp,&#10;                            color = textColor.copy(alpha = 0.3f),&#10;                            shape = RoundedCornerShape(16.dp)&#10;                        ),&#10;                    colors = ButtonDefaults.buttonColors(&#10;                        containerColor = Color.White.copy(alpha = 0.3f),&#10;                        contentColor = textColor&#10;                    ),&#10;                    shape = RoundedCornerShape(16.dp)&#10;                ) {&#10;                    Text(&#10;                        text = buttonText,&#10;                        fontWeight = FontWeight.Medium,&#10;                        fontSize = 13.sp&#10;                    )&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun BottomNavigationBar() {&#10;    // Glassmorphic bottom nav with golden border&#10;    Card(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .height(80.dp)&#10;            .padding(horizontal = 16.dp)&#10;            .border(&#10;                width = 1.5.dp,&#10;                color = Color(0xFFD4AF37),&#10;                shape = RoundedCornerShape(40.dp)&#10;            ),&#10;        shape = RoundedCornerShape(40.dp),&#10;        colors = CardDefaults.cardColors(&#10;            containerColor = Color(0x33000000)&#10;        ),&#10;        elevation = CardDefaults.cardElevation(8.dp)&#10;    ) {&#10;        Row(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .padding(horizontal = 24.dp),&#10;            horizontalArrangement = Arrangement.SpaceAround,&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            BottomNavItem(Icons.Default.Home, true)&#10;            BottomNavItem(Icons.Default.Search, false)&#10;            BottomNavItem(Icons.Default.Info, false)&#10;            BottomNavItem(Icons.Default.Notifications, false)&#10;            BottomNavItem(Icons.Default.Person, false)&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun BottomNavItem(icon: ImageVector, isSelected: Boolean) {&#10;    Box(&#10;        contentAlignment = Alignment.Center&#10;    ) {&#10;        if (isSelected) {&#10;            // Glowing background for selected item&#10;            Box(&#10;                modifier = Modifier&#10;                    .size(56.dp)&#10;                    .clip(CircleShape)&#10;                    .background(&#10;                        Brush.radialGradient(&#10;                            colors = listOf(&#10;                                Color(0xFFFFD700).copy(alpha = 0.4f),&#10;                                Color(0xFFD4AF37).copy(alpha = 0.2f),&#10;                                Color.Transparent&#10;                            )&#10;                        )&#10;                    )&#10;            )&#10;        }&#10;&#10;        Box(&#10;            modifier = Modifier&#10;                .size(if (isSelected) 50.dp else 44.dp)&#10;                .clip(CircleShape)&#10;                .background(&#10;                    if (isSelected)&#10;                        Brush.linearGradient(&#10;                            colors = listOf(&#10;                                Color(0xFFFFD700),&#10;                                Color(0xFFD4AF37)&#10;                            )&#10;                        )&#10;                    else&#10;                        Brush.linearGradient(&#10;                            colors = listOf(&#10;                                Color.White.copy(alpha = 0.2f),&#10;                                Color.White.copy(alpha = 0.1f)&#10;                            )&#10;                        )&#10;                ),&#10;            contentAlignment = Alignment.Center&#10;        ) {&#10;            Icon(&#10;                imageVector = icon,&#10;                contentDescription = null,&#10;                tint = if (isSelected) Color.White else Color.White.copy(alpha = 0.6f),&#10;                modifier = Modifier.size(if (isSelected) 26.dp else 24.dp)&#10;            )&#10;        }&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.japuraroutef.ui&#10;&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.border&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.shape.CircleShape&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.*&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.blur&#10;import androidx.compose.ui.draw.clip&#10;import androidx.compose.ui.graphics.Brush&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.graphics.painter.Painter&#10;import androidx.compose.ui.graphics.vector.ImageVector&#10;import androidx.compose.ui.layout.ContentScale&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;&#10;import com.example.japuraroutef.R&#10;&#10;@Composable&#10;fun HomeScreen(onNavigateToMap: () -&gt; Unit) {&#10;    Box(&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;            .background(Color.Black)&#10;    ) {&#10;        // Background image with heavy blur for liquid glass effect&#10;        val bgPainter: Painter = painterResource(id = R.drawable.gemini_generated_image_hxfk22hxfk22hxfk)&#10;        Image(&#10;            painter = bgPainter,&#10;            contentDescription = &quot;Home Background&quot;,&#10;            contentScale = ContentScale.Crop,&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .blur(radius = 80.dp)&#10;        )&#10;&#10;        // Dark gradient overlay for depth and contrast&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .background(&#10;                    Brush.verticalGradient(&#10;                        colors = listOf(&#10;                            Color(0xCC000000),&#10;                            Color(0x99000000),&#10;                            Color(0xDD000000)&#10;                        )&#10;                    )&#10;                )&#10;        )&#10;&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;        ) {&#10;            // Scrollable content&#10;            Column(&#10;                modifier = Modifier&#10;                    .weight(1f)&#10;                    .verticalScroll(rememberScrollState())&#10;                    .padding(horizontal = 20.dp)&#10;                    .padding(top = 20.dp)&#10;            ) {&#10;                Spacer(modifier = Modifier.height(20.dp))&#10;            &#10;            // Header with Shield Logo and Title&#10;            Row(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(vertical = 24.dp),&#10;                horizontalArrangement = Arrangement.Center,&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                // Shield Logo with golden outline&#10;                Box(&#10;                    modifier = Modifier&#10;                        .size(56.dp)&#10;                        .border(&#10;                            width = 2.dp,&#10;                            color = Color(0xFFD4AF37),&#10;                            shape = RoundedCornerShape(12.dp)&#10;                        )&#10;                        .background(&#10;                            color = Color.Transparent,&#10;                            shape = RoundedCornerShape(12.dp)&#10;                        ),&#10;                    contentAlignment = Alignment.Center&#10;                ) {&#10;                    Text(&#10;                        text = &quot;F&quot;,&#10;                        fontSize = 32.sp,&#10;                        fontWeight = FontWeight.Bold,&#10;                        color = Color(0xFFD4AF37)&#10;                    )&#10;                }&#10;                Spacer(modifier = Modifier.width(12.dp))&#10;                Text(&#10;                    text = &quot;Faculty Super App&quot;,&#10;                    style = MaterialTheme.typography.headlineSmall,&#10;                    color = Color.White,&#10;                    fontWeight = FontWeight.Normal,&#10;                    fontSize = 22.sp&#10;                )&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(16.dp))&#10;&#10;            // Glassmorphic Welcome Card with golden border&#10;            Box(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(bottom = 20.dp)&#10;                    .border(&#10;                        width = 1.dp,&#10;                        color = Color(0x80D4AF37),&#10;                        shape = RoundedCornerShape(32.dp)&#10;                    )&#10;                    .background(&#10;                        color = Color(0x40000000),&#10;                        shape = RoundedCornerShape(32.dp)&#10;                    )&#10;                    .padding(20.dp)&#10;            ) {&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    horizontalArrangement = Arrangement.SpaceBetween,&#10;                    verticalAlignment = Alignment.CenterVertically&#10;                ) {&#10;                    Column(modifier = Modifier.weight(1f)) {&#10;                        Text(&#10;                            text = &quot;Welcome back!&quot;,&#10;                            color = Color.White,&#10;                            fontSize = 17.sp,&#10;                            fontWeight = FontWeight.Medium&#10;                        )&#10;                        Spacer(modifier = Modifier.height(2.dp))&#10;                        Text(&#10;                            text = &quot;Check your updated Class Schedule.&quot;,&#10;                            color = Color(0xFFAAAAAA),&#10;                            fontSize = 13.sp,&#10;                            fontWeight = FontWeight.Normal&#10;                        )&#10;                    }&#10;                    Icon(&#10;                        imageVector = Icons.Default.KeyboardArrowDown,&#10;                        contentDescription = null,&#10;                        tint = Color(0xFFAAAAAA),&#10;                        modifier = Modifier.size(20.dp)&#10;                    )&#10;                }&#10;            }&#10;&#10;            // Main Feature Cards Grid - Exact layout from reference&#10;            Column(&#10;                verticalArrangement = Arrangement.spacedBy(16.dp)&#10;            ) {&#10;                // Row 1: Campus Map &amp; Auditorium Booking&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    horizontalArrangement = Arrangement.spacedBy(16.dp)&#10;                ) {&#10;                    FeatureCard(&#10;                        modifier = Modifier.weight(1f),&#10;                        title = &quot;Campus\nMap&quot;,&#10;                        buttonText = &quot;View&quot;,&#10;                        icon = Icons.Default.LocationOn,&#10;                        gradient = Brush.verticalGradient(&#10;                            colors = listOf(&#10;                                Color(0xFF6B2D1D),&#10;                                Color(0xFF8B4513),&#10;                                Color(0xFFD4A574)&#10;                            )&#10;                        ),&#10;                        textColor = Color.White,&#10;                        iconTint = Color(0xFFD4AF37),&#10;                        onClick = onNavigateToMap&#10;                    )&#10;                    FeatureCard(&#10;                        modifier = Modifier.weight(1f),&#10;                        title = &quot;Auditorium\nBooking&quot;,&#10;                        buttonText = &quot;Book&quot;,&#10;                        icon = Icons.Default.DateRange,&#10;                        gradient = Brush.verticalGradient(&#10;                            colors = listOf(&#10;                                Color(0xFFD8D8D8),&#10;                                Color(0xFFE8E8E8),&#10;                                Color(0xFFCDB891)&#10;                            )&#10;                        ),&#10;                        textColor = Color.Black,&#10;                        iconTint = Color(0xFF5D4037),&#10;                        onClick = { /* TODO */ }&#10;                    )&#10;                }&#10;&#10;                // Row 2: Events &amp; Places &amp; Services&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    horizontalArrangement = Arrangement.spacedBy(16.dp)&#10;                ) {&#10;                    FeatureCard(&#10;                        modifier = Modifier.weight(1f),&#10;                        title = &quot;Events&quot;,&#10;                        buttonText = &quot;View&quot;,&#10;                        icon = Icons.Default.Notifications,&#10;                        gradient = Brush.verticalGradient(&#10;                            colors = listOf(&#10;                                Color(0xFFFFEB3B),&#10;                                Color(0xFFFDD835),&#10;                                Color(0xFFFBC02D)&#10;                            )&#10;                        ),&#10;                        textColor = Color.Black,&#10;                        iconTint = Color(0xFF424242),&#10;                        onClick = { /* TODO */ }&#10;                    )&#10;                    FeatureCard(&#10;                        modifier = Modifier.weight(1f),&#10;                        title = &quot;Places &amp;\nServices&quot;,&#10;                        buttonText = &quot;View&quot;,&#10;                        icon = Icons.Default.Place,&#10;                        gradient = Brush.verticalGradient(&#10;                            colors = listOf(&#10;                                Color(0xFF64B5F6),&#10;                                Color(0xFF90CAF9),&#10;                                Color(0xFFBBDEFB)&#10;                            )&#10;                        ),&#10;                        textColor = Color.Black,&#10;                        iconTint = Color(0xFF1976D2),&#10;                        onClick = { /* TODO */ }&#10;                    )&#10;                }&#10;&#10;                // Row 3: GPA Calculator &amp; Class Schedule&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    horizontalArrangement = Arrangement.spacedBy(16.dp)&#10;                ) {&#10;                    FeatureCard(&#10;                        modifier = Modifier.weight(1f),&#10;                        title = &quot;GPA\nCalculator&quot;,&#10;                        buttonText = &quot;View&quot;,&#10;                        icon = Icons.Default.AccountBox,&#10;                        gradient = Brush.verticalGradient(&#10;                            colors = listOf(&#10;                                Color(0xFF6D5043),&#10;                                Color(0xFF8D6E63),&#10;                                Color(0xFF9E8275)&#10;                            )&#10;                        ),&#10;                        textColor = Color.White,&#10;                        iconTint = Color(0xFFD4AF37),&#10;                        onClick = { /* TODO */ }&#10;                    )&#10;                    FeatureCard(&#10;                        modifier = Modifier.weight(1f),&#10;                        title = &quot;Class\nSchedule&quot;,&#10;                        buttonText = &quot;View&quot;,&#10;                        icon = Icons.Default.Info,&#10;                        gradient = Brush.verticalGradient(&#10;                            colors = listOf(&#10;                                Color(0xFF1A1A1A),&#10;                                Color(0xFF2A2A2A),&#10;                                Color(0xFF212121)&#10;                            )&#10;                        ),&#10;                        textColor = Color.White,&#10;                        iconTint = Color(0xFFD4AF37),&#10;                        onClick = { /* TODO */ }&#10;                    )&#10;                }&#10;&#10;                // Row 4: Notices, Transport Info &amp; Study Resources (3 small cards)&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    horizontalArrangement = Arrangement.spacedBy(12.dp)&#10;                ) {&#10;                    SmallFeatureCard(&#10;                        modifier = Modifier.weight(1f),&#10;                        title = &quot;Notices&quot;,&#10;                        buttonText = &quot;Access&quot;,&#10;                        icon = Icons.Default.Warning,&#10;                        backgroundColor = Color(0xFFFFCC80),&#10;                        textColor = Color.Black,&#10;                        onClick = { /* TODO */ }&#10;                    )&#10;                    SmallFeatureCard(&#10;                        modifier = Modifier.weight(1f),&#10;                        title = &quot;Transport\nInfo&quot;,&#10;                        buttonText = &quot;Access&quot;,&#10;                        icon = Icons.Default.Call,&#10;                        backgroundColor = Color(0xFF2196F3),&#10;                        textColor = Color.White,&#10;                        onClick = { /* TODO */ }&#10;                    )&#10;                    SmallFeatureCard(&#10;                        modifier = Modifier.weight(1f),&#10;                        title = &quot;Study\nResources&quot;,&#10;                        buttonText = &quot;Access&quot;,&#10;                        icon = Icons.Default.Email,&#10;                        backgroundColor = Color(0xFFB39DDB),&#10;                        textColor = Color.Black,&#10;                        onClick = { /* TODO */ }&#10;                    )&#10;                }&#10;            }&#10;&#10;            // Bottom padding for the navigation bar space&#10;            Spacer(modifier = Modifier.height(100.dp))&#10;        }&#10;        }&#10;&#10;        // Fixed Bottom Navigation Bar&#10;        Box(&#10;            modifier = Modifier&#10;                .align(Alignment.BottomCenter)&#10;                .padding(bottom = 16.dp)&#10;        ) {&#10;            BottomNavigationBar()&#10;        }&#10;    }&#10;}&#10;&#10;// Feature Card Component with glassmorphic styling&#10;@Composable&#10;fun FeatureCard(&#10;    modifier: Modifier = Modifier,&#10;    title: String,&#10;    buttonText: String,&#10;    icon: ImageVector,&#10;    gradient: Brush,&#10;    textColor: Color = Color.White,&#10;    iconTint: Color = Color.White,&#10;    onClick: () -&gt; Unit&#10;) {&#10;    Card(&#10;        onClick = onClick,&#10;        modifier = modifier.height(180.dp),&#10;        shape = RoundedCornerShape(24.dp),&#10;        colors = CardDefaults.cardColors(containerColor = Color.Transparent),&#10;        elevation = CardDefaults.cardElevation(0.dp)&#10;    ) {&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .background(gradient)&#10;        ) {&#10;            // Glassmorphic overlay with transparency&#10;            Box(&#10;                modifier = Modifier&#10;                    .fillMaxSize()&#10;                    .background(&#10;                        Brush.verticalGradient(&#10;                            colors = listOf(&#10;                                Color.White.copy(alpha = 0.15f),&#10;                                Color.Transparent,&#10;                                Color.Black.copy(alpha = 0.2f)&#10;                            )&#10;                        )&#10;                    )&#10;            )&#10;            &#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxSize()&#10;                    .padding(20.dp),&#10;                verticalArrangement = Arrangement.SpaceBetween&#10;            ) {&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    horizontalArrangement = Arrangement.SpaceBetween,&#10;                    verticalAlignment = Alignment.Top&#10;                ) {&#10;                    Text(&#10;                        text = title,&#10;                        fontSize = 19.sp,&#10;                        fontWeight = FontWeight.SemiBold,&#10;                        color = textColor,&#10;                        lineHeight = 23.sp&#10;                    )&#10;                    Icon(&#10;                        imageVector = icon,&#10;                        contentDescription = title,&#10;                        tint = iconTint,&#10;                        modifier = Modifier.size(30.dp)&#10;                    )&#10;                }&#10;                &#10;                // Button with border&#10;                Box(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .height(44.dp)&#10;                        .border(&#10;                            width = 1.5.dp,&#10;                            color = textColor.copy(alpha = 0.5f),&#10;                            shape = RoundedCornerShape(22.dp)&#10;                        )&#10;                        .background(&#10;                            color = Color.White.copy(alpha = 0.2f),&#10;                            shape = RoundedCornerShape(22.dp)&#10;                        )&#10;                        .clip(RoundedCornerShape(22.dp)),&#10;                    contentAlignment = Alignment.Center&#10;                ) {&#10;                    Text(&#10;                        text = buttonText,&#10;                        fontWeight = FontWeight.Medium,&#10;                        fontSize = 15.sp,&#10;                        color = textColor&#10;                    )&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;// Small Feature Card for 3-column layout&#10;@Composable&#10;fun SmallFeatureCard(&#10;    modifier: Modifier = Modifier,&#10;    title: String,&#10;    buttonText: String,&#10;    icon: ImageVector,&#10;    backgroundColor: Color,&#10;    textColor: Color = Color.Black,&#10;    onClick: () -&gt; Unit&#10;) {&#10;    Card(&#10;        onClick = onClick,&#10;        modifier = modifier.height(180.dp),&#10;        shape = RoundedCornerShape(20.dp),&#10;        colors = CardDefaults.cardColors(containerColor = Color.Transparent),&#10;        elevation = CardDefaults.cardElevation(0.dp)&#10;    ) {&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .background(backgroundColor)&#10;        ) {&#10;            // Subtle glassmorphic overlay&#10;            Box(&#10;                modifier = Modifier&#10;                    .fillMaxSize()&#10;                    .background(&#10;                        Brush.verticalGradient(&#10;                            colors = listOf(&#10;                                Color.White.copy(alpha = 0.1f),&#10;                                Color.Transparent,&#10;                                Color.Black.copy(alpha = 0.1f)&#10;                            )&#10;                        )&#10;                    )&#10;            )&#10;            &#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxSize()&#10;                    .padding(16.dp),&#10;                verticalArrangement = Arrangement.SpaceBetween&#10;            ) {&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    horizontalArrangement = Arrangement.SpaceBetween,&#10;                    verticalAlignment = Alignment.Top&#10;                ) {&#10;                    Text(&#10;                        text = title,&#10;                        fontSize = 15.sp,&#10;                        fontWeight = FontWeight.SemiBold,&#10;                        color = textColor,&#10;                        lineHeight = 19.sp&#10;                    )&#10;                    Icon(&#10;                        imageVector = icon,&#10;                        contentDescription = title,&#10;                        tint = textColor,&#10;                        modifier = Modifier.size(26.dp)&#10;                    )&#10;                }&#10;                &#10;                // Button with border&#10;                Box(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .height(40.dp)&#10;                        .border(&#10;                            width = 1.5.dp,&#10;                            color = textColor.copy(alpha = 0.4f),&#10;                            shape = RoundedCornerShape(20.dp)&#10;                        )&#10;                        .background(&#10;                            color = Color.White.copy(alpha = 0.25f),&#10;                            shape = RoundedCornerShape(20.dp)&#10;                        )&#10;                        .clip(RoundedCornerShape(20.dp)),&#10;                    contentAlignment = Alignment.Center&#10;                ) {&#10;                    Text(&#10;                        text = buttonText,&#10;                        fontWeight = FontWeight.Medium,&#10;                        fontSize = 13.sp,&#10;                        color = textColor&#10;                    )&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun BottomNavigationBar() {&#10;    // Glassmorphic bottom nav with golden border&#10;    Box(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .height(70.dp)&#10;            .padding(horizontal = 16.dp)&#10;            .border(&#10;                width = 1.dp,&#10;                color = Color(0x80D4AF37),&#10;                shape = RoundedCornerShape(35.dp)&#10;            )&#10;            .background(&#10;                color = Color(0x80000000),&#10;                shape = RoundedCornerShape(35.dp)&#10;            )&#10;    ) {&#10;        Row(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .padding(horizontal = 20.dp),&#10;            horizontalArrangement = Arrangement.SpaceEvenly,&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            BottomNavItem(Icons.Default.Home, true)&#10;            BottomNavItem(Icons.Default.Search, false)&#10;            BottomNavItem(Icons.Default.Info, false)&#10;            BottomNavItem(Icons.Default.Notifications, false)&#10;            BottomNavItem(Icons.Default.Person, false)&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun BottomNavItem(icon: ImageVector, isSelected: Boolean) {&#10;    Column(&#10;        horizontalAlignment = Alignment.CenterHorizontally,&#10;        verticalArrangement = Arrangement.Center,&#10;        modifier = Modifier.padding(vertical = 8.dp)&#10;    ) {&#10;        Icon(&#10;            imageVector = icon,&#10;            contentDescription = null,&#10;            tint = if (isSelected) Color(0xFFD4AF37) else Color(0xFF808080),&#10;            modifier = Modifier.size(26.dp)&#10;        )&#10;        &#10;        if (isSelected) {&#10;            Spacer(modifier = Modifier.height(4.dp))&#10;            Box(&#10;                modifier = Modifier&#10;                    .size(4.dp)&#10;                    .clip(CircleShape)&#10;                    .background(Color(0xFFD4AF37))&#10;            )&#10;        }&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/japuraroutef/ui/MapScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/japuraroutef/ui/MapScreen.kt" />
              <option name="originalContent" value="&#10;" />
              <option name="updatedContent" value="package com.example.japuraroutef.ui&#10;&#10;import android.Manifest&#10;import androidx.activity.compose.rememberLauncherForActivityResult&#10;import androidx.activity.result.contract.ActivityResultContracts&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.lazy.LazyColumn&#10;import androidx.compose.foundation.lazy.items&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.automirrored.filled.ArrowBack&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.platform.LocalContext&#10;import androidx.compose.ui.unit.dp&#10;import com.example.japuraroutef.R&#10;import com.mapbox.geojson.Point&#10;import com.mapbox.geojson.LineString&#10;import com.mapbox.maps.CameraBoundsOptions&#10;import com.mapbox.maps.extension.compose.MapboxMap&#10;import com.mapbox.maps.extension.compose.animation.viewport.rememberMapViewportState&#10;import com.mapbox.maps.extension.compose.style.MapStyle&#10;import com.mapbox.maps.extension.compose.MapEffect&#10;import com.mapbox.maps.plugin.annotation.generated.PointAnnotationOptions&#10;import com.mapbox.maps.plugin.annotation.generated.PolylineAnnotationOptions&#10;import com.mapbox.maps.plugin.annotation.annotations&#10;import com.mapbox.maps.plugin.annotation.generated.createPointAnnotationManager&#10;import com.mapbox.maps.plugin.annotation.generated.createPolylineAnnotationManager&#10;import kotlinx.coroutines.launch&#10;import retrofit2.Retrofit&#10;import retrofit2.converter.gson.GsonConverterFactory&#10;import retrofit2.http.GET&#10;import retrofit2.http.Path&#10;import retrofit2.http.Query&#10;&#10;data class FacultyPlace(&#10;    val name: String,&#10;    val point: Point,&#10;    val description: String&#10;)&#10;&#10;data class DirectionsResponse(&#10;    val routes: List&lt;Route&gt;&#10;)&#10;&#10;data class Route(&#10;    val geometry: String,&#10;    val distance: Double,&#10;    val duration: Double&#10;)&#10;&#10;interface MapboxDirectionsService {&#10;    @GET(&quot;directions/v5/mapbox/walking/{coordinates}&quot;)&#10;    suspend fun getDirections(&#10;        @Path(&quot;coordinates&quot;) coordinates: String,&#10;        @Query(&quot;geometries&quot;) geometries: String = &quot;polyline6&quot;,&#10;        @Query(&quot;overview&quot;) overview: String = &quot;full&quot;,&#10;        @Query(&quot;access_token&quot;) accessToken: String&#10;    ): DirectionsResponse&#10;}&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun MapScreen(onNavigateBack: () -&gt; Unit) {&#10;    val context = LocalContext.current&#10;    var selectedDestination by remember { mutableStateOf&lt;FacultyPlace?&gt;(null) }&#10;    var showPlacesList by remember { mutableStateOf(false) }&#10;    var currentRoute by remember { mutableStateOf&lt;Route?&gt;(null) }&#10;    val currentLocation by remember { mutableStateOf&lt;Point?&gt;(null) }&#10;    val coroutineScope = rememberCoroutineScope()&#10;    val accessToken = context.getString(R.string.mapbox_access_token)&#10;&#10;    // Initialize Retrofit for Mapbox Directions API&#10;    val directionsService = remember {&#10;        Retrofit.Builder()&#10;            .baseUrl(&quot;https://api.mapbox.com/&quot;)&#10;            .addConverterFactory(GsonConverterFactory.create())&#10;            .build()&#10;            .create(MapboxDirectionsService::class.java)&#10;    }&#10;&#10;    // Location permission launcher&#10;    val locationPermissionRequest = rememberLauncherForActivityResult(&#10;        ActivityResultContracts.RequestMultiplePermissions()&#10;    ) { permissions -&gt;&#10;        when {&#10;            permissions.getOrDefault(Manifest.permission.ACCESS_FINE_LOCATION, false) -&gt; {&#10;                // Precise location access granted&#10;            }&#10;            permissions.getOrDefault(Manifest.permission.ACCESS_COARSE_LOCATION, false) -&gt; {&#10;                // Only approximate location access granted&#10;            }&#10;        }&#10;    }&#10;&#10;    LaunchedEffect(Unit) {&#10;        locationPermissionRequest.launch(arrayOf(&#10;            Manifest.permission.ACCESS_FINE_LOCATION,&#10;            Manifest.permission.ACCESS_COARSE_LOCATION&#10;        ))&#10;    }&#10;&#10;    // Faculty places&#10;    val facultyPlaces = remember {&#10;        listOf(&#10;            FacultyPlace(&quot;Student Canteen&quot;, Point.fromLngLat(80.04289457106671, 6.82193306312118), &quot;Faculty main gate&quot;),&#10;            FacultyPlace(&quot;Library&quot;, Point.fromLngLat(80.04018, 6.82436), &quot;Central library building&quot;),&#10;            FacultyPlace(&quot;Lecture Hall A&quot;, Point.fromLngLat(80.04073, 6.82404), &quot;Main lecture hall complex&quot;),&#10;            FacultyPlace(&quot;Computer Lab&quot;, Point.fromLngLat(80.04125, 6.82335), &quot;Computing facilities&quot;),&#10;            FacultyPlace(&quot;Cafeteria&quot;, Point.fromLngLat(80.04155, 6.82242), &quot;Student cafeteria&quot;),&#10;            FacultyPlace(&quot;Admin Office&quot;, Point.fromLngLat(80.04168, 6.82203), &quot;Administration building&quot;),&#10;            FacultyPlace(&quot;Sports Ground&quot;, Point.fromLngLat(80.04199, 6.82108), &quot;Sports facilities&quot;),&#10;            FacultyPlace(&quot;Parking Area&quot;, Point.fromLngLat(80.04360, 6.82177), &quot;Vehicle parking&quot;)&#10;        )&#10;    }&#10;&#10;    val cameraBoundsOptions = CameraBoundsOptions.Builder()&#10;        .minZoom(14.0)&#10;        .maxZoom(20.0)&#10;        .build()&#10;&#10;    Box(modifier = Modifier.fillMaxSize()) {&#10;        // Mapbox Map&#10;        MapboxMap(&#10;            Modifier.fillMaxSize(),&#10;            mapViewportState = rememberMapViewportState {&#10;                setCameraOptions {&#10;                    zoom(17.0)&#10;                    center(Point.fromLngLat(80.04168, 6.82314))&#10;                    pitch(60.0)&#10;                    bearing(0.0)&#10;                }&#10;            },&#10;            style = {&#10;                MapStyle(style = &quot;mapbox://styles/nuwankonara/cmifk82fz001y01qw6bsdhv86&quot;)&#10;            }&#10;        ) {&#10;            MapEffect(Unit) { mapView -&gt;&#10;                mapView.mapboxMap.setBounds(cameraBoundsOptions)&#10;&#10;                // Add markers for all places&#10;                val annotationApi = mapView.annotations&#10;                val pointAnnotationManager = annotationApi.createPointAnnotationManager()&#10;&#10;                facultyPlaces.forEach { place -&gt;&#10;                    val pointAnnotationOptions = PointAnnotationOptions()&#10;                        .withPoint(place.point)&#10;                        .withIconImage(&quot;marker-icon-red&quot;)&#10;                    pointAnnotationManager.create(pointAnnotationOptions)&#10;                }&#10;            }&#10;&#10;            // Update route on map when available&#10;            MapEffect(currentRoute) { mapView -&gt;&#10;                currentRoute?.let { route -&gt;&#10;                    val annotationApi = mapView.annotations&#10;                    val polylineAnnotationManager = annotationApi.createPolylineAnnotationManager()&#10;&#10;                    try {&#10;                        val points = LineString.fromPolyline(route.geometry, 6).coordinates()&#10;&#10;                        val polylineAnnotationOptions = PolylineAnnotationOptions()&#10;                            .withPoints(points)&#10;                            .withLineColor(&quot;#0080FF&quot;)&#10;                            .withLineWidth(5.0)&#10;                        polylineAnnotationManager.create(polylineAnnotationOptions)&#10;                    } catch (e: Exception) {&#10;                        e.printStackTrace()&#10;                    }&#10;                }&#10;            }&#10;        }&#10;&#10;        // Top App Bar with back button&#10;        TopAppBar(&#10;            title = { Text(&quot;Campus Map&quot;, color = Color.White) },&#10;            navigationIcon = {&#10;                IconButton(onClick = onNavigateBack) {&#10;                    Icon(&#10;                        imageVector = Icons.AutoMirrored.Filled.ArrowBack,&#10;                        contentDescription = &quot;Back&quot;,&#10;                        tint = Color.White&#10;                    )&#10;                }&#10;            },&#10;            colors = TopAppBarDefaults.topAppBarColors(&#10;                containerColor = Color(0xDD000000)&#10;            )&#10;        )&#10;&#10;        // Bottom sheet with places&#10;        Column(&#10;            modifier = Modifier&#10;                .align(Alignment.BottomCenter)&#10;                .fillMaxWidth()&#10;        ) {&#10;            if (showPlacesList) {&#10;                Surface(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    color = Color.White,&#10;                    shadowElevation = 8.dp,&#10;                    shape = RoundedCornerShape(topStart = 24.dp, topEnd = 24.dp)&#10;                ) {&#10;                    LazyColumn(&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .heightIn(max = 400.dp)&#10;                            .padding(vertical = 16.dp)&#10;                    ) {&#10;                        items(facultyPlaces) { place -&gt;&#10;                            PlaceItem(&#10;                                place = place,&#10;                                onSelect = {&#10;                                    selectedDestination = place&#10;                                    showPlacesList = false&#10;&#10;                                    // Request route&#10;                                    coroutineScope.launch {&#10;                                        try {&#10;                                            val origin = currentLocation ?: Point.fromLngLat(80.03948, 6.82478)&#10;                                            val coords = &quot;${origin.longitude()},${origin.latitude()};${place.point.longitude()},${place.point.latitude()}&quot;&#10;                                            val response = directionsService.getDirections(coords, accessToken = accessToken)&#10;                                            if (response.routes.isNotEmpty()) {&#10;                                                currentRoute = response.routes[0]&#10;                                            }&#10;                                        } catch (e: Exception) {&#10;                                            e.printStackTrace()&#10;                                        }&#10;                                    }&#10;                                }&#10;                            )&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;&#10;            Card(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(16.dp),&#10;                elevation = CardDefaults.cardElevation(8.dp),&#10;                shape = RoundedCornerShape(24.dp),&#10;                colors = CardDefaults.cardColors(containerColor = Color.White)&#10;            ) {&#10;                Column(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .padding(20.dp)&#10;                ) {&#10;                    if (selectedDestination != null) {&#10;                        Text(&#10;                            text = &quot;Navigating to: ${selectedDestination!!.name}&quot;,&#10;                            style = MaterialTheme.typography.titleMedium,&#10;                            color = Color.Black&#10;                        )&#10;                        Text(&#10;                            text = selectedDestination!!.description,&#10;                            style = MaterialTheme.typography.bodyMedium,&#10;                            color = Color.Gray&#10;                        )&#10;                        Spacer(modifier = Modifier.height(12.dp))&#10;                        Button(&#10;                            onClick = {&#10;                                selectedDestination = null&#10;                                currentRoute = null&#10;                            },&#10;                            modifier = Modifier.fillMaxWidth(),&#10;                            shape = RoundedCornerShape(16.dp),&#10;                            colors = ButtonDefaults.buttonColors(&#10;                                containerColor = Color(0xFFD4AF37)&#10;                            )&#10;                        ) {&#10;                            Text(&quot;Clear Route&quot;, color = Color.White)&#10;                        }&#10;                    } else {&#10;                        Button(&#10;                            onClick = { showPlacesList = !showPlacesList },&#10;                            modifier = Modifier.fillMaxWidth(),&#10;                            shape = RoundedCornerShape(16.dp),&#10;                            colors = ButtonDefaults.buttonColors(&#10;                                containerColor = Color(0xFFD4AF37)&#10;                            )&#10;                        ) {&#10;                            Text(&#10;                                if (showPlacesList) &quot;Hide Places&quot; else &quot;Select Destination&quot;,&#10;                                color = Color.White&#10;                            )&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun PlaceItem(place: FacultyPlace, onSelect: () -&gt; Unit) {&#10;    Column(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .clickable(onClick = onSelect)&#10;            .padding(horizontal = 24.dp, vertical = 12.dp)&#10;    ) {&#10;        Text(&#10;            text = place.name,&#10;            style = MaterialTheme.typography.titleMedium,&#10;            color = Color.Black&#10;        )&#10;        Spacer(modifier = Modifier.height(4.dp))&#10;        Text(&#10;            text = place.description,&#10;            style = MaterialTheme.typography.bodySmall,&#10;            color = Color.Gray&#10;        )&#10;        HorizontalDivider(modifier = Modifier.padding(top = 12.dp), color = Color.LightGray)&#10;    }&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>