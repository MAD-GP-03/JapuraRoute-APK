<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/japuraroutef/MainActivity.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/japuraroutef/MainActivity.kt" />
              <option name="originalContent" value="package com.example.japuraroutef&#10;&#10;import android.Manifest&#10;import android.os.Bundle&#10;import androidx.activity.ComponentActivity&#10;import androidx.activity.compose.setContent&#10;import androidx.activity.result.contract.ActivityResultContracts&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.lazy.LazyColumn&#10;import androidx.compose.foundation.lazy.items&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.unit.dp&#10;import com.mapbox.geojson.Point&#10;import com.mapbox.geojson.LineString&#10;import com.mapbox.maps.CameraBoundsOptions&#10;import com.mapbox.maps.extension.compose.MapboxMap&#10;import com.mapbox.maps.extension.compose.animation.viewport.rememberMapViewportState&#10;import com.mapbox.maps.extension.compose.style.MapStyle&#10;import com.mapbox.maps.extension.compose.MapEffect&#10;import com.mapbox.maps.plugin.annotation.generated.PointAnnotationOptions&#10;import com.mapbox.maps.plugin.annotation.generated.PolylineAnnotationOptions&#10;import com.mapbox.maps.plugin.annotation.annotations&#10;import com.mapbox.maps.plugin.annotation.generated.createPointAnnotationManager&#10;import com.mapbox.maps.plugin.annotation.generated.createPolylineAnnotationManager&#10;import kotlinx.coroutines.launch&#10;import retrofit2.Retrofit&#10;import retrofit2.converter.gson.GsonConverterFactory&#10;import retrofit2.http.GET&#10;import retrofit2.http.Path&#10;import retrofit2.http.Query&#10;&#10;data class FacultyPlace(&#10;    val name: String,&#10;    val point: Point,&#10;    val description: String&#10;)&#10;&#10;data class DirectionsResponse(&#10;    val routes: List&lt;Route&gt;&#10;)&#10;&#10;data class Route(&#10;    val geometry: String,&#10;    val distance: Double,&#10;    val duration: Double&#10;)&#10;&#10;interface MapboxDirectionsService {&#10;    @GET(&quot;directions/v5/mapbox/walking/{coordinates}&quot;)&#10;    suspend fun getDirections(&#10;        @Path(&quot;coordinates&quot;) coordinates: String,&#10;        @Query(&quot;geometries&quot;) geometries: String = &quot;polyline6&quot;,&#10;        @Query(&quot;overview&quot;) overview: String = &quot;full&quot;,&#10;        @Query(&quot;access_token&quot;) accessToken: String&#10;    ): DirectionsResponse&#10;}&#10;&#10;class MainActivity : ComponentActivity() {&#10;    private var currentLocation by mutableStateOf&lt;Point?&gt;(null)&#10;    private lateinit var directionsService: MapboxDirectionsService&#10;&#10;    private val locationPermissionRequest = registerForActivityResult(&#10;        ActivityResultContracts.RequestMultiplePermissions()&#10;    ) { permissions -&gt;&#10;        when {&#10;            permissions.getOrDefault(Manifest.permission.ACCESS_FINE_LOCATION, false) -&gt; {&#10;                // Precise location access granted&#10;            }&#10;            permissions.getOrDefault(Manifest.permission.ACCESS_COARSE_LOCATION, false) -&gt; {&#10;                // Only approximate location access granted&#10;            }&#10;        }&#10;    }&#10;&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;&#10;        // Request location permissions&#10;        locationPermissionRequest.launch(arrayOf(&#10;            Manifest.permission.ACCESS_FINE_LOCATION,&#10;            Manifest.permission.ACCESS_COARSE_LOCATION&#10;        ))&#10;&#10;        // Initialize Retrofit for Mapbox Directions API&#10;        val retrofit = Retrofit.Builder()&#10;            .baseUrl(&quot;https://api.mapbox.com/&quot;)&#10;            .addConverterFactory(GsonConverterFactory.create())&#10;            .build()&#10;        directionsService = retrofit.create(MapboxDirectionsService::class.java)&#10;&#10;        setContent {&#10;            NavigationScreen()&#10;        }&#10;    }&#10;&#10;    @Composable&#10;    fun NavigationScreen() {&#10;        var selectedDestination by remember { mutableStateOf&lt;FacultyPlace?&gt;(null) }&#10;        var showPlacesList by remember { mutableStateOf(false) }&#10;        var currentRoute by remember { mutableStateOf&lt;Route?&gt;(null) }&#10;        val coroutineScope = rememberCoroutineScope()&#10;        val accessToken = getString(R.string.mapbox_access_token)&#10;&#10;        // Faculty places - update these coordinates with actual locations&#10;        val facultyPlaces = remember {&#10;            listOf(&#10;                FacultyPlace(&quot;Student Canteen&quot;, Point.fromLngLat( 80.04289457106671, 6.82193306312118), &quot;Faculty main gate&quot;),&#10;                FacultyPlace(&quot;Library&quot;, Point.fromLngLat(80.04018, 6.82436), &quot;Central library building&quot;),&#10;                FacultyPlace(&quot;Lecture Hall A&quot;, Point.fromLngLat(80.04073, 6.82404), &quot;Main lecture hall complex&quot;),&#10;                FacultyPlace(&quot;Computer Lab&quot;, Point.fromLngLat(80.04125, 6.82335), &quot;Computing facilities&quot;),&#10;                FacultyPlace(&quot;Cafeteria&quot;, Point.fromLngLat(80.04155, 6.82242), &quot;Student cafeteria&quot;),&#10;                FacultyPlace(&quot;Admin Office&quot;, Point.fromLngLat(80.04168, 6.82203), &quot;Administration building&quot;),&#10;                FacultyPlace(&quot;Sports Ground&quot;, Point.fromLngLat(80.04199, 6.82108), &quot;Sports facilities&quot;),&#10;                FacultyPlace(&quot;Parking Area&quot;, Point.fromLngLat(80.04360, 6.82177), &quot;Vehicle parking&quot;)&#10;            )&#10;        }&#10;&#10;        val cameraBoundsOptions = CameraBoundsOptions.Builder()&#10;            .minZoom(14.0)&#10;            .maxZoom(20.0)&#10;            .build()&#10;&#10;        Box(modifier = Modifier.fillMaxSize()) {&#10;            MapboxMap(&#10;                Modifier.fillMaxSize(),&#10;                mapViewportState = rememberMapViewportState {&#10;                    setCameraOptions {&#10;                        zoom(17.0)&#10;                        center(Point.fromLngLat(80.04168, 6.82314))&#10;                        pitch(60.0)&#10;                        bearing(0.0)&#10;                    }&#10;                },&#10;                style = {&#10;                    MapStyle(style = &quot;mapbox://styles/nuwankonara/cmifk82fz001y01qw6bsdhv86&quot;)&#10;                }&#10;            ) {&#10;                MapEffect(Unit) { mapView -&gt;&#10;                    mapView.mapboxMap.setBounds(cameraBoundsOptions)&#10;&#10;                    // Add markers for all places&#10;                    val annotationApi = mapView.annotations&#10;                    val pointAnnotationManager = annotationApi.createPointAnnotationManager()&#10;&#10;                    facultyPlaces.forEach { place -&gt;&#10;                        val pointAnnotationOptions = PointAnnotationOptions()&#10;                            .withPoint(place.point)&#10;                            .withIconImage(&quot;marker-icon-red&quot;)&#10;                        pointAnnotationManager.create(pointAnnotationOptions)&#10;                    }&#10;                }&#10;&#10;                // Update route on map when available&#10;                MapEffect(currentRoute) { mapView -&gt;&#10;                    currentRoute?.let { route -&gt;&#10;                        val annotationApi = mapView.annotations&#10;                        val polylineAnnotationManager = annotationApi.createPolylineAnnotationManager()&#10;&#10;                        try {&#10;                            val points = LineString.fromPolyline(route.geometry, 6).coordinates()&#10;&#10;                            val polylineAnnotationOptions = PolylineAnnotationOptions()&#10;                                .withPoints(points)&#10;                                .withLineColor(&quot;#0080FF&quot;)&#10;                                .withLineWidth(5.0)&#10;                            polylineAnnotationManager.create(polylineAnnotationOptions)&#10;                        } catch (e: Exception) {&#10;                            e.printStackTrace()&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;&#10;            // Bottom sheet with places&#10;            Column(&#10;                modifier = Modifier&#10;                    .align(Alignment.BottomCenter)&#10;                    .fillMaxWidth()&#10;            ) {&#10;                if (showPlacesList) {&#10;                    Surface(&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        color = Color.White,&#10;                        shadowElevation = 8.dp&#10;                    ) {&#10;                        LazyColumn(&#10;                            modifier = Modifier&#10;                                .fillMaxWidth()&#10;                                .heightIn(max = 300.dp)&#10;                        ) {&#10;                        items(facultyPlaces) { place -&gt;&#10;                            PlaceItem(&#10;                                place = place,&#10;                                onSelect = {&#10;                                    selectedDestination = place&#10;                                    showPlacesList = false&#10;&#10;                                    // Request route&#10;                                    coroutineScope.launch {&#10;                                        try {&#10;                                            val origin = currentLocation ?: Point.fromLngLat(80.03948, 6.82478)&#10;                                            val coords = &quot;${origin.longitude()},${origin.latitude()};${place.point.longitude()},${place.point.latitude()}&quot;&#10;                                            val response = directionsService.getDirections(coords, accessToken = accessToken)&#10;                                            if (response.routes.isNotEmpty()) {&#10;                                                currentRoute = response.routes[0]&#10;                                            }&#10;                                        } catch (e: Exception) {&#10;                                            e.printStackTrace()&#10;                                        }&#10;                                    }&#10;                                }&#10;                            )&#10;                        }&#10;                        }&#10;                    }&#10;                }&#10;&#10;                Card(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .padding(16.dp),&#10;                    elevation = CardDefaults.cardElevation(8.dp)&#10;                ) {&#10;                    Column(&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .padding(16.dp)&#10;                    ) {&#10;                        if (selectedDestination != null) {&#10;                            Text(&#10;                                text = &quot;Navigating to: ${selectedDestination!!.name}&quot;,&#10;                                style = MaterialTheme.typography.titleMedium&#10;                            )&#10;                            Text(&#10;                                text = selectedDestination!!.description,&#10;                                style = MaterialTheme.typography.bodyMedium,&#10;                                color = Color.Gray&#10;                            )&#10;                            Spacer(modifier = Modifier.height(8.dp))&#10;                            Button(&#10;                                onClick = {&#10;                                    selectedDestination = null&#10;                                    currentRoute = null&#10;                                },&#10;                                modifier = Modifier.fillMaxWidth()&#10;                            ) {&#10;                                Text(&quot;Clear Route&quot;)&#10;                            }&#10;                        } else {&#10;                            Button(&#10;                                onClick = { showPlacesList = !showPlacesList },&#10;                                modifier = Modifier.fillMaxWidth()&#10;                            ) {&#10;                                Text(if (showPlacesList) &quot;Hide Places&quot; else &quot;Select Destination&quot;)&#10;                            }&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;&#10;    @Composable&#10;    fun PlaceItem(place: FacultyPlace, onSelect: () -&gt; Unit) {&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .clickable(onClick = onSelect)&#10;                .padding(16.dp)&#10;        ) {&#10;            Text(&#10;                text = place.name,&#10;                style = MaterialTheme.typography.titleMedium&#10;            )&#10;            Text(&#10;                text = place.description,&#10;                style = MaterialTheme.typography.bodySmall,&#10;                color = Color.Gray&#10;            )&#10;            HorizontalDivider(modifier = Modifier.padding(top = 8.dp))&#10;        }&#10;    }&#10;&#10;}" />
              <option name="updatedContent" value="package com.example.japuraroutef&#10;&#10;import android.os.Bundle&#10;import androidx.activity.ComponentActivity&#10;import androidx.activity.compose.setContent&#10;import androidx.compose.runtime.*&#10;&#10;class MainActivity : ComponentActivity() {&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        &#10;        setContent {&#10;            AppNavigation()&#10;        }&#10;    }&#10;&#10;    @Composable&#10;    fun AppNavigation() {&#10;        var currentScreen by remember { mutableStateOf&lt;Screen&gt;(Screen.Home) }&#10;&#10;        when (currentScreen) {&#10;            Screen.Home -&gt; {&#10;                com.example.japuraroutef.ui.HomeScreen(&#10;                    onNavigateToMap = { currentScreen = Screen.Map }&#10;                )&#10;            }&#10;            Screen.Map -&gt; {&#10;                com.example.japuraroutef.ui.MapScreen(&#10;                    onNavigateBack = { currentScreen = Screen.Home }&#10;                )&#10;            }&#10;        }&#10;    }&#10;&#10;    sealed class Screen {&#10;        object Home : Screen()&#10;        object Map : Screen()&#10;    }&#10;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/japuraroutef/ui/MapScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/japuraroutef/ui/MapScreen.kt" />
              <option name="originalContent" value="&#10;" />
              <option name="updatedContent" value="package com.example.japuraroutef.ui&#10;&#10;import android.Manifest&#10;import androidx.activity.compose.rememberLauncherForActivityResult&#10;import androidx.activity.result.contract.ActivityResultContracts&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.lazy.LazyColumn&#10;import androidx.compose.foundation.lazy.items&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.automirrored.filled.ArrowBack&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.platform.LocalContext&#10;import androidx.compose.ui.unit.dp&#10;import com.example.japuraroutef.R&#10;import com.mapbox.geojson.Point&#10;import com.mapbox.geojson.LineString&#10;import com.mapbox.maps.CameraBoundsOptions&#10;import com.mapbox.maps.extension.compose.MapboxMap&#10;import com.mapbox.maps.extension.compose.animation.viewport.rememberMapViewportState&#10;import com.mapbox.maps.extension.compose.style.MapStyle&#10;import com.mapbox.maps.extension.compose.MapEffect&#10;import com.mapbox.maps.plugin.annotation.generated.PointAnnotationOptions&#10;import com.mapbox.maps.plugin.annotation.generated.PolylineAnnotationOptions&#10;import com.mapbox.maps.plugin.annotation.annotations&#10;import com.mapbox.maps.plugin.annotation.generated.createPointAnnotationManager&#10;import com.mapbox.maps.plugin.annotation.generated.createPolylineAnnotationManager&#10;import kotlinx.coroutines.launch&#10;import retrofit2.Retrofit&#10;import retrofit2.converter.gson.GsonConverterFactory&#10;import retrofit2.http.GET&#10;import retrofit2.http.Path&#10;import retrofit2.http.Query&#10;&#10;data class FacultyPlace(&#10;    val name: String,&#10;    val point: Point,&#10;    val description: String&#10;)&#10;&#10;data class DirectionsResponse(&#10;    val routes: List&lt;Route&gt;&#10;)&#10;&#10;data class Route(&#10;    val geometry: String,&#10;    val distance: Double,&#10;    val duration: Double&#10;)&#10;&#10;interface MapboxDirectionsService {&#10;    @GET(&quot;directions/v5/mapbox/walking/{coordinates}&quot;)&#10;    suspend fun getDirections(&#10;        @Path(&quot;coordinates&quot;) coordinates: String,&#10;        @Query(&quot;geometries&quot;) geometries: String = &quot;polyline6&quot;,&#10;        @Query(&quot;overview&quot;) overview: String = &quot;full&quot;,&#10;        @Query(&quot;access_token&quot;) accessToken: String&#10;    ): DirectionsResponse&#10;}&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun MapScreen(onNavigateBack: () -&gt; Unit) {&#10;    val context = LocalContext.current&#10;    var selectedDestination by remember { mutableStateOf&lt;FacultyPlace?&gt;(null) }&#10;    var showPlacesList by remember { mutableStateOf(false) }&#10;    var currentRoute by remember { mutableStateOf&lt;Route?&gt;(null) }&#10;    val currentLocation by remember { mutableStateOf&lt;Point?&gt;(null) }&#10;    val coroutineScope = rememberCoroutineScope()&#10;    val accessToken = context.getString(R.string.mapbox_access_token)&#10;&#10;    // Initialize Retrofit for Mapbox Directions API&#10;    val directionsService = remember {&#10;        Retrofit.Builder()&#10;            .baseUrl(&quot;https://api.mapbox.com/&quot;)&#10;            .addConverterFactory(GsonConverterFactory.create())&#10;            .build()&#10;            .create(MapboxDirectionsService::class.java)&#10;    }&#10;&#10;    // Location permission launcher&#10;    val locationPermissionRequest = rememberLauncherForActivityResult(&#10;        ActivityResultContracts.RequestMultiplePermissions()&#10;    ) { permissions -&gt;&#10;        when {&#10;            permissions.getOrDefault(Manifest.permission.ACCESS_FINE_LOCATION, false) -&gt; {&#10;                // Precise location access granted&#10;            }&#10;            permissions.getOrDefault(Manifest.permission.ACCESS_COARSE_LOCATION, false) -&gt; {&#10;                // Only approximate location access granted&#10;            }&#10;        }&#10;    }&#10;&#10;    LaunchedEffect(Unit) {&#10;        locationPermissionRequest.launch(arrayOf(&#10;            Manifest.permission.ACCESS_FINE_LOCATION,&#10;            Manifest.permission.ACCESS_COARSE_LOCATION&#10;        ))&#10;    }&#10;&#10;    // Faculty places&#10;    val facultyPlaces = remember {&#10;        listOf(&#10;            FacultyPlace(&quot;Student Canteen&quot;, Point.fromLngLat(80.04289457106671, 6.82193306312118), &quot;Faculty main gate&quot;),&#10;            FacultyPlace(&quot;Library&quot;, Point.fromLngLat(80.04018, 6.82436), &quot;Central library building&quot;),&#10;            FacultyPlace(&quot;Lecture Hall A&quot;, Point.fromLngLat(80.04073, 6.82404), &quot;Main lecture hall complex&quot;),&#10;            FacultyPlace(&quot;Computer Lab&quot;, Point.fromLngLat(80.04125, 6.82335), &quot;Computing facilities&quot;),&#10;            FacultyPlace(&quot;Cafeteria&quot;, Point.fromLngLat(80.04155, 6.82242), &quot;Student cafeteria&quot;),&#10;            FacultyPlace(&quot;Admin Office&quot;, Point.fromLngLat(80.04168, 6.82203), &quot;Administration building&quot;),&#10;            FacultyPlace(&quot;Sports Ground&quot;, Point.fromLngLat(80.04199, 6.82108), &quot;Sports facilities&quot;),&#10;            FacultyPlace(&quot;Parking Area&quot;, Point.fromLngLat(80.04360, 6.82177), &quot;Vehicle parking&quot;)&#10;        )&#10;    }&#10;&#10;    val cameraBoundsOptions = CameraBoundsOptions.Builder()&#10;        .minZoom(14.0)&#10;        .maxZoom(20.0)&#10;        .build()&#10;&#10;    Box(modifier = Modifier.fillMaxSize()) {&#10;        // Mapbox Map&#10;        MapboxMap(&#10;            Modifier.fillMaxSize(),&#10;            mapViewportState = rememberMapViewportState {&#10;                setCameraOptions {&#10;                    zoom(17.0)&#10;                    center(Point.fromLngLat(80.04168, 6.82314))&#10;                    pitch(60.0)&#10;                    bearing(0.0)&#10;                }&#10;            },&#10;            style = {&#10;                MapStyle(style = &quot;mapbox://styles/nuwankonara/cmifk82fz001y01qw6bsdhv86&quot;)&#10;            }&#10;        ) {&#10;            MapEffect(Unit) { mapView -&gt;&#10;                mapView.mapboxMap.setBounds(cameraBoundsOptions)&#10;&#10;                // Add markers for all places&#10;                val annotationApi = mapView.annotations&#10;                val pointAnnotationManager = annotationApi.createPointAnnotationManager()&#10;&#10;                facultyPlaces.forEach { place -&gt;&#10;                    val pointAnnotationOptions = PointAnnotationOptions()&#10;                        .withPoint(place.point)&#10;                        .withIconImage(&quot;marker-icon-red&quot;)&#10;                    pointAnnotationManager.create(pointAnnotationOptions)&#10;                }&#10;            }&#10;&#10;            // Update route on map when available&#10;            MapEffect(currentRoute) { mapView -&gt;&#10;                currentRoute?.let { route -&gt;&#10;                    val annotationApi = mapView.annotations&#10;                    val polylineAnnotationManager = annotationApi.createPolylineAnnotationManager()&#10;&#10;                    try {&#10;                        val points = LineString.fromPolyline(route.geometry, 6).coordinates()&#10;&#10;                        val polylineAnnotationOptions = PolylineAnnotationOptions()&#10;                            .withPoints(points)&#10;                            .withLineColor(&quot;#0080FF&quot;)&#10;                            .withLineWidth(5.0)&#10;                        polylineAnnotationManager.create(polylineAnnotationOptions)&#10;                    } catch (e: Exception) {&#10;                        e.printStackTrace()&#10;                    }&#10;                }&#10;            }&#10;        }&#10;&#10;        // Top App Bar with back button&#10;        TopAppBar(&#10;            title = { Text(&quot;Campus Map&quot;, color = Color.White) },&#10;            navigationIcon = {&#10;                IconButton(onClick = onNavigateBack) {&#10;                    Icon(&#10;                        imageVector = Icons.AutoMirrored.Filled.ArrowBack,&#10;                        contentDescription = &quot;Back&quot;,&#10;                        tint = Color.White&#10;                    )&#10;                }&#10;            },&#10;            colors = TopAppBarDefaults.topAppBarColors(&#10;                containerColor = Color(0xDD000000)&#10;            )&#10;        )&#10;&#10;        // Bottom sheet with places&#10;        Column(&#10;            modifier = Modifier&#10;                .align(Alignment.BottomCenter)&#10;                .fillMaxWidth()&#10;        ) {&#10;            if (showPlacesList) {&#10;                Surface(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    color = Color.White,&#10;                    shadowElevation = 8.dp,&#10;                    shape = RoundedCornerShape(topStart = 24.dp, topEnd = 24.dp)&#10;                ) {&#10;                    LazyColumn(&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .heightIn(max = 400.dp)&#10;                            .padding(vertical = 16.dp)&#10;                    ) {&#10;                        items(facultyPlaces) { place -&gt;&#10;                            PlaceItem(&#10;                                place = place,&#10;                                onSelect = {&#10;                                    selectedDestination = place&#10;                                    showPlacesList = false&#10;&#10;                                    // Request route&#10;                                    coroutineScope.launch {&#10;                                        try {&#10;                                            val origin = currentLocation ?: Point.fromLngLat(80.03948, 6.82478)&#10;                                            val coords = &quot;${origin.longitude()},${origin.latitude()};${place.point.longitude()},${place.point.latitude()}&quot;&#10;                                            val response = directionsService.getDirections(coords, accessToken = accessToken)&#10;                                            if (response.routes.isNotEmpty()) {&#10;                                                currentRoute = response.routes[0]&#10;                                            }&#10;                                        } catch (e: Exception) {&#10;                                            e.printStackTrace()&#10;                                        }&#10;                                    }&#10;                                }&#10;                            )&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;&#10;            Card(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(16.dp),&#10;                elevation = CardDefaults.cardElevation(8.dp),&#10;                shape = RoundedCornerShape(24.dp),&#10;                colors = CardDefaults.cardColors(containerColor = Color.White)&#10;            ) {&#10;                Column(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .padding(20.dp)&#10;                ) {&#10;                    if (selectedDestination != null) {&#10;                        Text(&#10;                            text = &quot;Navigating to: ${selectedDestination!!.name}&quot;,&#10;                            style = MaterialTheme.typography.titleMedium,&#10;                            color = Color.Black&#10;                        )&#10;                        Text(&#10;                            text = selectedDestination!!.description,&#10;                            style = MaterialTheme.typography.bodyMedium,&#10;                            color = Color.Gray&#10;                        )&#10;                        Spacer(modifier = Modifier.height(12.dp))&#10;                        Button(&#10;                            onClick = {&#10;                                selectedDestination = null&#10;                                currentRoute = null&#10;                            },&#10;                            modifier = Modifier.fillMaxWidth(),&#10;                            shape = RoundedCornerShape(16.dp),&#10;                            colors = ButtonDefaults.buttonColors(&#10;                                containerColor = Color(0xFFD4AF37)&#10;                            )&#10;                        ) {&#10;                            Text(&quot;Clear Route&quot;, color = Color.White)&#10;                        }&#10;                    } else {&#10;                        Button(&#10;                            onClick = { showPlacesList = !showPlacesList },&#10;                            modifier = Modifier.fillMaxWidth(),&#10;                            shape = RoundedCornerShape(16.dp),&#10;                            colors = ButtonDefaults.buttonColors(&#10;                                containerColor = Color(0xFFD4AF37)&#10;                            )&#10;                        ) {&#10;                            Text(&#10;                                if (showPlacesList) &quot;Hide Places&quot; else &quot;Select Destination&quot;,&#10;                                color = Color.White&#10;                            )&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun PlaceItem(place: FacultyPlace, onSelect: () -&gt; Unit) {&#10;    Column(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .clickable(onClick = onSelect)&#10;            .padding(horizontal = 24.dp, vertical = 12.dp)&#10;    ) {&#10;        Text(&#10;            text = place.name,&#10;            style = MaterialTheme.typography.titleMedium,&#10;            color = Color.Black&#10;        )&#10;        Spacer(modifier = Modifier.height(4.dp))&#10;        Text(&#10;            text = place.description,&#10;            style = MaterialTheme.typography.bodySmall,&#10;            color = Color.Gray&#10;        )&#10;        HorizontalDivider(modifier = Modifier.padding(top = 12.dp), color = Color.LightGray)&#10;    }&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>